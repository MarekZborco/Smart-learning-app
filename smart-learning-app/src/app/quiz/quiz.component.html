<div class="quiz-container">
  <div class="quiz-header">
    <h1>Matematika - Test</h1>
    <div class="quiz-info">
      <div class="info-item">
        <span class="icon">ğŸ“</span>
        <span>OtÃ¡zka {{currentQuestion + 1}}/{{questions().length}}</span>
      </div>
      <div class="info-item">
        <span class="icon">â±ï¸</span>
        <span>{{timeRemaining}}s</span>
      </div>
      <div class="info-item">
        <span class="icon">ğŸ¯</span>
        <span>{{score}} bodov</span>
      </div>
    </div>
  </div>

  <div class="progress-bar">
    <div class="progress-fill" [style.width.%]="progressPercentage"></div>
  </div>

  <div class="question-card" *ngIf="!quizFinished && questions().length > 0">
    <h2 class="question-text">{{questions()[currentQuestion].question}}</h2>
    
    <div class="answers-grid">
      <button 
        *ngFor="let answer of questions()[currentQuestion].answers; let i = index"
        class="answer-btn"
        [class.selected]="selectedAnswer === i"
        (click)="selectAnswer(i)">
        {{answer}}
      </button>
    </div>

    <button class="btn btn-next" (click)="nextQuestion()" [disabled]="selectedAnswer === null">
      {{currentQuestion === questions().length - 1 ? 'DokonÄiÅ¥' : 'Äalej'}}
    </button>
  </div>

  <div class="loading" *ngIf="loading">
    <p>NaÄÃ­tavam otÃ¡zky...</p>
  </div>

  <div class="results-card" *ngIf="quizFinished">
    <div class="results-icon">ğŸ‰</div>
    <h2>Test dokonÄenÃ½!</h2>
    <div class="results-stats">
      <div class="stat">
        <div class="stat-value">{{score}}/{{questions().length * 10}}</div>
        <div class="stat-label">Bodov</div>
      </div>
      <div class="stat">
        <div class="stat-value">{{correctAnswers}}/{{questions().length}}</div>
        <div class="stat-label">SprÃ¡vne</div>
      </div>
      <div class="stat">
        <div class="stat-value">{{percentage}}%</div>
        <div class="stat-label">ÃšspeÅ¡nosÅ¥</div>
      </div>
    </div>
    
    <div class="results-actions">
      <button class="btn btn-primary" (click)="restartQuiz()">SkÃºsiÅ¥ znova</button>
      <button class="btn btn-secondary" routerLink="/materials">Å tudovaÅ¥ materiÃ¡ly</button>
    </div>
  </div>
</div>