<<div class="progress-container">
  <!-- Header so Å¡tatistikami -->
  <div class="stats-header">
    <h1>ğŸ“Š Tvoj Progres</h1>
    
    <div class="stats-cards">
      <div class="stat-card">
        <div class="stat-icon">ğŸ“ˆ</div>
        <div class="stat-content">
          <h3>PriemernÃ¡ ÃºspeÅ¡nosÅ¥</h3>
          <p class="stat-value">{{ stats().averageScore }}%</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">âœ…</div>
        <div class="stat-content">
          <h3>DokonÄenÃ© testy</h3>
          <p class="stat-value">{{ stats().totalTests }}</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">âš¡</div>
        <div class="stat-content">
          <h3>CelkovÃ© XP</h3>
          <p class="stat-value">{{ stats().totalXP }}</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">ğŸ¯</div>
        <div class="stat-content">
          <h3>Hodiny uÄenia</h3>
          <p class="stat-value">{{ stats().studyHours }}h</p>
        </div>
      </div>
    </div>

    <!-- ZlepÅ¡enie -->
    <div class="improvement-badge" *ngIf="recentImprovement > 0">
      <span class="badge-icon">ğŸš€</span>
      <span class="badge-text">ZlepÅ¡il si sa o {{ recentImprovement | number:'1.0-1' }}%!</span>
    </div>
  </div>

  <!-- Grafy -->
  <div class="charts-section" *ngIf="testResults.length > 0">
    <div class="chart-wrapper full-width">
      <canvas #progressChart></canvas>
    </div>

    <div class="chart-row">
      <div class="chart-wrapper">
        <canvas #categoryChart></canvas>
      </div>

      <div class="chart-wrapper">
        <canvas #topicsChart></canvas>
      </div>
    </div>
  </div>

  <!-- Å½iadne dÃ¡ta -->
  <div class="no-data" *ngIf="testResults.length === 0">
    <div class="no-data-icon">ğŸ“š</div>
    <h2>ZatiaÄ¾ nemÃ¡Å¡ Å¾iadne vÃ½sledky</h2>
    <p>ZaÄni robiÅ¥ testy a tu uvidÃ­Å¡ svoj progres!</p>
    <a routerLink="/home" class="btn-primary">ZaÄaÅ¥ testovanie</a>
  </div>

  <!-- AnalÃ½za tÃ©m -->
  <div class="topics-analysis" *ngIf="testResults.length > 0">
    <!-- SlabÃ© strÃ¡nky -->
    <div class="topics-section" *ngIf="weakTopics.length > 0">
      <h2>ğŸ¯ Oblasti na zlepÅ¡enie</h2>
      <p class="section-subtitle">TÃ©my, ktorÃ½m by si mal venovaÅ¥ viac pozornosti</p>
      
      <div class="topics-list">
        <div class="topic-item weak" *ngFor="let topic of weakTopics">
          <div class="topic-header">
            <span class="topic-name">{{ topic.topic }}</span>
            <span class="topic-percentage">{{ topic.percentage | number:'1.0-1' }}%</span>
          </div>
          <div class="topic-details">
            <span class="topic-stats">{{ topic.correct }}/{{ topic.total }} sprÃ¡vnych</span>
            <span class="topic-attempts">{{ topic.attempts }} pokusov</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill weak" [style.width.%]="topic.percentage"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- SilnÃ© strÃ¡nky -->
    <div class="topics-section" *ngIf="strongTopics.length > 0">
      <h2>ğŸ’ª Tvoje silnÃ© strÃ¡nky</h2>
      <p class="section-subtitle">TÃ©my, v ktorÃ½ch si vÃ½bornÃ½</p>
      
      <div class="topics-list">
        <div class="topic-item strong" *ngFor="let topic of strongTopics">
          <div class="topic-header">
            <span class="topic-name">{{ topic.topic }}</span>
            <span class="topic-percentage">{{ topic.percentage | number:'1.0-1' }}%</span>
          </div>
          <div class="topic-details">
            <span class="topic-stats">{{ topic.correct }}/{{ topic.total }} sprÃ¡vnych</span>
            <span class="topic-attempts">{{ topic.attempts }} pokusov</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill strong" [style.width.%]="topic.percentage"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- OdporÃºÄania -->
  <div class="recommendations" *ngIf="weakTopics.length > 0">
    <h2>ğŸ’¡ OdporÃºÄania</h2>
    <div class="recommendation-cards">
      <div class="recommendation-card">
        <span class="rec-icon">ğŸ“–</span>
        <h3>Zameraj sa na slabÃ© tÃ©my</h3>
        <p>Venuj viac Äasu tÃ©mam: {{ weakTopics[0].topic }}</p>
      <div class="recommendation-card">
        <span class="rec-icon">ğŸ”„</span>
        <h3>PravidelnÃ© opakovanie</h3>
        <p>Opakuj si materiÃ¡l kaÅ¾dÃ½ deÅˆ aspoÅˆ 15 minÃºt</p>
      </div>
      <div class="recommendation-card">
        <span class="rec-icon">ğŸ®</span>
        <h3>PouÅ¾Ã­vaj rÃ´zne metÃ³dy</h3>
        <p>SkÃºs kvÃ­zy, karty a praktickÃ© Ãºlohy</p>
      </div>
    </div>
  </div>
</div>
